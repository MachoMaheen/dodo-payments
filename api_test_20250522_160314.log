=== API Testing Script for Dodo Payments ===
Log file: api_test_20250522_160314.log
[0;34mChecking if API is running...[0m
[0;32mAPI is up and running[0m

[0;34mMaking GET request to /health[0m
[0;32mResponse:[0m
{
  "message": "Service is healthy",
  "status": "ok"
}

{"message":"Service is healthy","status":"ok"}
[0;34mMaking POST request to /api/users/register[0m
[0;32mResponse:[0m
{
  "id": "7c8796c1-bbc9-4a4b-a8c6-aa33fdc576f1",
  "username": "testuser_1747909994",
  "email": "testuser_1747909994@example.com",
  "created_at": "2025-05-22T16:03:15.671735Z",
  "updated_at": "2025-05-22T16:03:15.671735Z"
}

{"id":"7c8796c1-bbc9-4a4b-a8c6-aa33fdc576f1","username":"testuser_1747909994","email":"testuser_1747909994@example.com","created_at":"2025-05-22T16:03:15.671735Z","updated_at":"2025-05-22T16:03:15.671735Z"}
[0;34mMaking POST request to /api/users/login[0m
[0;32mResponse:[0m
{
  "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3Yzg3OTZjMS1iYmM5LTRhNGItYThjNi1hYTMzZmRjNTc2ZjEiLCJleHAiOjE3NDgwMTYxOTUsImlhdCI6MTc0NzkyOTc5NX0.eSOT5Q3s_IVunAuMnkR3C86at7klNfTyQUT9aLwXJgM",
  "token_type": "Bearer"
}

[0;34mExtracting token...[0m
[0;32mToken: eyJ0eXAiOiJKV1Qi...[0m

[0;34mMaking GET request to /api/users/profile[0m
[0;32mResponse:[0m
{
  "id": "7c8796c1-bbc9-4a4b-a8c6-aa33fdc576f1",
  "username": "testuser_1747909994",
  "email": "testuser_1747909994@example.com",
  "created_at": "2025-05-22T16:03:15.671735Z",
  "updated_at": "2025-05-22T16:03:15.671735Z"
}

{"id":"7c8796c1-bbc9-4a4b-a8c6-aa33fdc576f1","username":"testuser_1747909994","email":"testuser_1747909994@example.com","created_at":"2025-05-22T16:03:15.671735Z","updated_at":"2025-05-22T16:03:15.671735Z"}
[0;34mMaking GET request to /api/accounts/balance[0m
[0;32mResponse:[0m
{
  "balance": 0,
  "currency": "USD"
}

{"balance":0.0,"currency":"USD"}
[0;34mMaking POST request to /api/users/register[0m
[0;32mResponse:[0m
{
  "id": "4fbaeff3-5ca3-4269-bd6a-def221c319e9",
  "username": "recipient_1747909994",
  "email": "recipient_1747909994@example.com",
  "created_at": "2025-05-22T16:03:16.609429Z",
  "updated_at": "2025-05-22T16:03:16.609429Z"
}

{"id":"4fbaeff3-5ca3-4269-bd6a-def221c319e9","username":"recipient_1747909994","email":"recipient_1747909994@example.com","created_at":"2025-05-22T16:03:16.609429Z","updated_at":"2025-05-22T16:03:16.609429Z"}
[0;34mMaking POST request to /api/users/login[0m
[0;32mResponse:[0m
{
  "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0ZmJhZWZmMy01Y2EzLTQyNjktYmQ2YS1kZWYyMjFjMzE5ZTkiLCJleHAiOjE3NDgwMTYxOTYsImlhdCI6MTc0NzkyOTc5Nn0.kSlvrcz7TDKeParznRFq4yFE54jwgO_BehrKb-rgdbw",
  "token_type": "Bearer"
}

[0;34mMaking GET request to /api/users/profile[0m
[0;32mResponse:[0m
{
  "id": "4fbaeff3-5ca3-4269-bd6a-def221c319e9",
  "username": "recipient_1747909994",
  "email": "recipient_1747909994@example.com",
  "created_at": "2025-05-22T16:03:16.609429Z",
  "updated_at": "2025-05-22T16:03:16.609429Z"
}

[0;34mMaking POST request to /api/transactions[0m
[0;31mInvalid JSON:[0m
Json deserialize error: invalid type: string "10.00", expected f64 at line 1 column 71

parse error: Invalid numeric literal at line 1, column 5
